<!-- Updated HTML integrating Biblical Figures Explorer with biblical_figures.json. Inserted scripts and structure matching JSON categories, periods, and search. Full HTML file retained. -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Biblical Genealogy Explorer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Biblical Genealogy Explorer</h1>
    <p>Explore the family lines, covenants, and key figures of Scripture</p>
  </header>

  <main>
    <section id="intro">
      <h2>The Genealogical Record of Scripture</h2>
      <p>
        This project allows you to explore every recorded name and connection in the Bible's genealogies.
        You can trace the line from Adam to Jesus, view biographies, search by name or Scripture,
        and follow God's promises through generations.
      </p>
      <p>
        Use the tools below to navigate ancestors, descendants, or compare key figures.
        Double-click any name in the tree to view their biography and references.
      </p>

      <!-- NEW: Biblical Figures Explorer Toggle -->
      <div class="figures-explorer-toggle">
        <button id="toggle-figures-explorer" class="explorer-toggle-btn">
          ðŸ“– Explore Other Biblical Figures
        </button>
      </div>
    </section>

    <!-- NEW: Biblical Figures Explorer Panel -->
    <section id="figures-explorer" class="hidden">
      <div class="explorer-header">
        <h2>Biblical Figures Explorer</h2>
        <p>Discover people from Scripture not in the genealogical line</p>
      </div>

      <div class="explorer-filters">
        <div class="filter-group">
          <label>Category:</label>
          <select id="filter-category">
            <option value="all">All Categories</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Time Period:</label>
          <select id="filter-period">
            <option value="all">All Periods</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Search:</label>
          <input type="text" id="figures-search" placeholder="Search figures..." />
        </div>

        <button id="reset-filters" class="pill-btn">Reset Filters</button>
      </div>

      <div id="figures-grid" class="figures-grid"></div>
    </section>

    <section id="controls">
      <div class="control-panel">

        <!-- Search -->
        <div class="search-section">
          <h3>Search</h3>
          <input type="text" id="search-input" placeholder="Search by name or Scripture..." />
          <button id="search-btn">Search</button>
        </div>

        <!-- Lineage Tools -->
        <div class="lineage-section">
          <h3>Lineage Tools</h3>
          <input type="text" id="lin-person" placeholder="Enter person name or ID" />
          <button id="btn-ancestors">Show Ancestors</button>
          <button id="btn-descendants">Show Descendants</button>
        </div>

        <!-- Compare -->
        <div class="compare-section">
          <h3>Compare</h3>
          <input type="text" id="cmp-a" placeholder="Person A" />
          <input type="text" id="cmp-b" placeholder="Person B" />
          <button id="btn-compare">Compare</button>
        </div>

        <!-- Jump To -->
        <div class="jump-section">
          <h3>Jump To</h3>
          <button class="nav-btn" data-person="adam">Adam</button>
          <button class="nav-btn" data-person="noah">Noah</button>
          <button class="nav-btn" data-person="abraham">Abraham</button>
          <button class="nav-btn" data-person="isaac">Isaac</button>
          <button class="nav-btn" data-person="jacob">Jacob</button>
          <button class="nav-btn" data-person="moses">Moses</button>
          <button class="nav-btn" data-person="david">David</button>
          <button class="nav-btn" data-person="jesus">Jesus</button>
        </div>

        <!-- Chronology -->
        <div class="timeline-section">
          <h3>Chronology</h3>
          <button id="btn-chronology">List Chronologically</button>
        </div>
      </div>
    </section>

    <section id="breadcrumb-container">
      <div id="breadcrumb"></div>
      <div id="person-count-container">
        Total People: <span id="person-count">0</span>
      </div>
    </section>

    <section id="tree-container">
      <div id="tree-root"></div>
    </section>
  </main>

  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="person-info"></div>
    </div>
  </div>

  <footer>
    <p>Â© 2025 Biblical Genealogy Explorer | Data sourced from Scripture</p>
  </footer>

  <!-- NEW SCRIPT: Load Biblical Figures JSON and populate explorer -->
  <script>
    let biblicalFigures = {};

    fetch('biblical_figures.json')
      .then(res => res.json())
      .then(data => {
        biblicalFigures = data.figures;
        initFiguresExplorer(data);
      });

    function initFiguresExplorer(data) {
      const categories = data.metadata.categories;
      const catSelect = document.getElementById('filter-category');
      categories.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        catSelect.appendChild(opt);
      });

      const periods = [...new Set(Object.values(data.figures).map(f => f.time_period))];
      const periodSelect = document.getElementById('filter-period');
      periods.forEach(p => {
        const opt = document.createElement('option');
        opt.value = p;
        opt.textContent = p;
        periodSelect.appendChild(opt);
      });

      renderFiguresGrid(data.figures);

      document.getElementById('toggle-figures-explorer').addEventListener('click', () => {
        document.getElementById('figures-explorer').classList.toggle('hidden');
      });

      document.getElementById('filter-category').addEventListener('change', applyFilters);
      document.getElementById('filter-period').addEventListener('change', applyFilters);
      document.getElementById('figures-search').addEventListener('input', applyFilters);
      document.getElementById('reset-filters').addEventListener('click', resetFilters);
    }

    function renderFiguresGrid(figures) {
      const grid = document.getElementById('figures-grid');
      grid.innerHTML = '';
      Object.values(figures).forEach(f => {
        const card = document.createElement('div');
        card.className = 'figure-card';
        card.innerHTML = `
          <h3>${f.name}</h3>
          <p><strong>Category:</strong> ${f.category}</p>
          <p><strong>Period:</strong> ${f.time_period}</p>
        `;

        
        card.addEventListener('click', () => showFigureModal(f));
      grid.appendChild(card);
      });
    }

    function applyFilters() {
      const catVal = document.getElementById('filter-category').value;
      const perVal = document.getElementById('filter-period').value;
      const searchVal = document.getElementById('figures-search').value.toLowerCase();

      const filtered = Object.values(biblicalFigures).filter(f => {
        return (
          (catVal === 'all' || f.category === catVal) &&
          (perVal === 'all' || f.time_period === perVal) &&
          (f.name.toLowerCase().includes(searchVal) || f.bio.toLowerCase().includes(searchVal))
        );
      });

      renderFiguresGrid(Object.fromEntries(filtered.map(f => [f.name, f])));
    }

    function resetFilters() {
      document.getElementById('filter-category').value = 'all';
      document.getElementById('filter-period').value = 'all';
      document.getElementById('figures-search').value = '';
      renderFiguresGrid(biblicalFigures);
    }

    function showFigureModal(figure) {
      const modal = document.getElementById('infoModal');
      const info = document.getElementById('person-info');

      info.innerHTML = `
        <h2>${figure.name}</h2>
        <p><strong>Category:</strong> ${figure.category}</p>
        <p><strong>Time Period:</strong> ${figure.time_period}</p>
        <p><strong>Scripture:</strong> ${figure.scripture}</p>
        <p><strong>Bio:</strong> ${figure.bio}</p>
        <h3>Popular Stories</h3>
        <ul>
          ${figure.popular_stories.map(s => `<li>${s}</li>`).join('')}
        </ul>
      `;

      modal.style.display = 'block';
      document.querySelector('.close').onclick = () => { modal.style.display = 'none'; };
      window.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };
    }
  </script>

  <script src="app.js"></script>
</body>
</html>
